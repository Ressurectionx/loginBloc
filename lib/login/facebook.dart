import 'package:firebase_auth/firebase_auth.dart';import 'package:flutter/material.dart';import 'package:flutter_facebook_auth/flutter_facebook_auth.dart';import 'Dashboard.dart';class Facebook extends StatefulWidget {  const Facebook({Key? key}) : super(key: key);  @override  _FacebookState createState() => _FacebookState();}class _FacebookState extends State<Facebook> {  Map<String, dynamic>? _userData;  String welcome = "Facebook";  @override  Widget build(BuildContext context) {    return Scaffold(      body: Column(        mainAxisAlignment: MainAxisAlignment.center,        crossAxisAlignment: CrossAxisAlignment.center,        children: [                    SizedBox(width: MediaQuery.of(context).size.width,),          FlatButton(onPressed: (){                       setState(() {              signInWithFacebook();             });           },            child: const Text("Facebook Login"))      ],),    );  }  Future<UserCredential> signInWithFacebook() async {    final LoginResult result = await FacebookAuth.instance.login(permissions:['email']);    if (result.status == LoginStatus.success) {      Navigator.push(context, MaterialPageRoute(builder: (context)=>Dashboard(welcome)));      var userData = await FacebookAuth.instance.getUserData();      _userData = userData;    } else {      print(result.message);    }    setState(() {      welcome = _userData?['email'];    });    final OAuthCredential facebookAuthCredential = FacebookAuthProvider.credential(result.accessToken!.token);    return FirebaseAuth.instance.signInWithCredential(facebookAuthCredential);  }}